import{r as E,W as d,y as i}from"./app-BL-A_wWN.js";import{S as n}from"./sweetalert2.all-Dbsf46tK.js";function C(){const[a,c]=E.useState([]),{data:o,setData:l,processing:u,errors:f,patch:m,post:p}=d({name:"",father_last_name:"",mother_last_name:"",email:"",phone:"",active:1}),h=()=>{const e=/^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/,t=/^[0-9]{3}-[0-9]{3}-[0-9]{4}$/;let r=[];return Object.values(o).some(s=>(s==null?void 0:s.toString().trim())==="")&&(r=[...r,"Todos los campos son obligatorios"]),o.email.match(e)||(r=[...r,"El email no es valido"]),o.phone.match(t)||(r=[...r,"El telefono no es valido"]),r};return{alerts:a,data:o,setData:l,processing:u,errors:f,save:e=>{e.preventDefault();const t=h();if(c(t),t.length===0){if(o.id){m(route("teachers.update",{teacher:o.id}),{preserveScroll:!0});return}p(route("teachers.store"),{preserveScroll:!0})}},handleDelete:e=>{n.fire({title:"Atención",text:"¿Desea eliminar el profesor?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, Eliminar",cancelButtonText:"No, Cancelar"}).then(t=>{t.isConfirmed&&i.delete(route("teachers.destroy",{teacher:e}),{preserveScroll:!0,onSuccess(){n.fire({title:"Exito",text:"El profesor se Elimino Correctamente",icon:"success"})},onError(){n.fire({title:"Error",text:"Ocurrio un Error al Eliminar el profesor",icon:"error"})}})})},handleActive:e=>{n.fire({title:"Atencion",text:e.active?"¿Desea desactivar el profesor?":"¿Desea activar el profesor?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No, Cancelar"}).then(t=>{t.isConfirmed&&i.patch(route("teachers.update",{teacher:e}),{...e,active:!e.active,dashboard:!0},{preserveScroll:!0,onSuccess(){n.fire({title:"Exito",text:"El profesor se Actualizo Correctamente",icon:"success"})},onError(){n.fire({title:"Error",text:"Ocurrio un Error al Actualizar el profesor",icon:"error"})}})})}}}export{C as u};
